---
name: chisqstrata2x2
title: Stratified Analysis (2×2×K)
jrs: '1.1'

refs:
    - agresti2013
    - alberti2024
    - azen2021
    - breslowday1980
    - davis1971
    - fleiss2003
    - lachin2000
    - ott1992
    - pagano2018
    - reynolds1977
    - sheskin2011

items:
    - name: partialTablesGroup
      title: ''
      type: Array
      template:
        title: Partial Table
        type: Table
        columns: []
      clearWith:
        - rows
        - cols
        - strata
        - counts
        - rowRef
        - colRef

    - name: marginalTable
      type: Table
      clearWith:
        - rows
        - cols
        - strata
        - counts
      columns: []

    - name: partialChiSqTable
      title: Chi-Squared Tests
      type: Table
      clearWith:
        - rows
        - cols
        - strata
        - counts
      columns:
        - name: stratum
          title: 'Table'
          type: text
        - name: chisq
          title: 'χ²'
          type: number
        - name: df
          title: 'df'
          type: integer
        - name: pvalue
          title: 'p'
          type: number
          format: zto,pvalue
      refs:
       - ott1992

    - name: oddsRatioTable
      title: Odds Ratios and Confidence Intervals
      type: Table
      clearWith:
        - rows
        - cols
        - strata
        - counts
        - rowRef
        - colRef
      columns:
        - name: stratum
          title: 'Table'
          type: text
        - name: or
          title: 'Odds Ratio'
          type: number
        - name: ciLower
          title: 'Lower'
          superTitle: '95% CI'
          type: number
        - name: ciUpper
          title: 'Upper'
          superTitle: '95% CI'
          type: number
      refs:
       - azen2021
       - cummingfinch2005
       - lachin2000
       - pagano2018

    - name: cmhTestTable
      title: Cochran-Mantel-Haenszel Test for Conditional Independence
      type: Table
      clearWith:
        - rows
        - cols
        - strata
        - counts
      columns:
        - name: test
          title: 'Test'
          type: text
        - name: statistic
          title: 'Statistic'
          type: number
        - name: df
          title: 'df'
          type: integer
        - name: pvalue
          title: 'p'
          type: number
          format: zto,pvalue
        - name: commonOR
          title: 'Common OR'
          type: number
        - name: commonCILower
          title: 'Lower'
          superTitle: '95% CI'
          type: number
        - name: commonCIUpper
          title: 'Upper'
          superTitle: '95% CI'
          type: number
      refs:
       - azen2021

    - name: homogeneityTable
      title: Tests for Homogeneity of Odds Ratios
      type: Table
      clearWith:
        - rows
        - cols
        - strata
        - counts
      columns:
        - name: test
          title: 'Test'
          type: text
        - name: statistic
          title: 'Statistic'
          type: number
        - name: df
          title: 'df'
          type: integer
        - name: pvalue
          title: 'p'
          type: number
          format: zto,pvalue
      refs:
       - azen2021
       - breslowday1980
       - pagano2018
       - sheskin2011

    - name: interpretationTable
      title: Interpretation Summary
      type: Table
      clearWith:
        - rows
        - cols
        - strata
        - counts
        - rowRef
        - colRef
      columns:
        - name: topic
          title: 'Aspect'
          type: text
        - name: result
          title: 'Result'
          type: text

    - name: forestPlot
      title: Forest Plot of Odds Ratios
      type: Image
      visible: (showForestPlot)
      width: 700
      height: 550
      renderFun: .forestPlot
      requiresData: true
      clearWith:
        - rows
        - cols
        - strata
        - counts
        - rowRef
        - colRef

    - name: trajectoryPlot
      title: Odds Ratio Trajectory
      type: Image
      visible: (showTrajectoryPlot && strataOrdered)
      width: 700
      height: 450
      renderFun: .trajectoryPlot
      requiresData: true
      clearWith:
        - rows
        - cols
        - strata
        - counts
        - rowRef
        - colRef
        - strataOrdered

    - name: methodInfo
      title: Method Details
      type: Html
      visible: (showMethodInfo)
      clearWith:
        - rows
        - cols
        - strata
        - counts
        - rowRef
        - colRef
...